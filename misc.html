<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <script src="/js/analytics.js"></script>
    <title>Miscellaneous | aurora.</title>

    <!-- Authentication Script (at the top chat) -->
    <script>
        // Check if the user is authenticated
        if (!localStorage.getItem('authenticated')) {
            window.location.href = '/authentication.html';
        }
    </script>

    <style>
        body {
            background: radial-gradient(circle at center, #1a1a1a, #0d0d0d, #000000);
            background-size: cover;
            color: #ffffff;
            font-family: sans-serif;
            margin: 0;
            padding: 0;
            height: auto;
            min-height: 100vh;
            overflow-x: hidden;
            display: flex;
            align-items: flex-start; /* Aligns the content to the top */
            justify-content: center;
        }

        .content {
            text-align: center;
            max-width: 90%;
            margin: 50px auto 0 auto; /* Adds top margin instead of padding */
            position: relative;
            z-index: 5;
            padding-bottom: 50px; /* Adds bottom padding to ensure scrolling space */
        }

        h2 {
            font-size: 2.5em;
            margin-bottom: 1em;
            color: #22c55e;
            text-shadow: 0 0 10px #22c55e, 0 0 20px #22c55e;
            animation: neon-flicker 2s infinite alternate;
        }

        @keyframes neon-flicker {
            0% { opacity: 1; }
            50% { opacity: 0.85; }
            100% { opacity: 1; }
        }

        h1 {
            font-size: 2em;
            margin-bottom: 0.5em;
            color: #ffffff;
            text-shadow: 0 0 10px #ffffff, 0 0 20px #ffffff;
        }

        .section {
            width: 100%;
            max-width: 600px;
            margin: 1em auto;
            padding: 1.5em;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
        }

        .button-wrapper {
            display: flex;
            justify-content: space-between;
            margin-top: 1em;
        }

        .button-wrapper button {
            padding: 10px 20px;
            border: none;
            border-radius: 10px;
            background-color: #b625cc;
            color: #ffffff;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        .button-wrapper button:hover {
            background-color: #a23e9a;
            transform: scale(1.05);
        }

        input[type="text"], input[type="url"] {
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 10px;
            background-color: #2c2c2c;
            color: #ffffff;
            margin-bottom: 1em;
        }

        button {
            background-color: #b625cc;
            color: #ffffff;
            border-radius: 10px;
            padding: 10px 20px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        button:hover {
            background-color: #a23e9a;
            transform: scale(1.05);
        }

        .section p {
            margin: 1em 0;
        }

        #back-to-top {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #22c55e;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.5);
        }

        /* Animated grid background */
        .grid {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(0deg, transparent, transparent 10px, rgba(255, 255, 255, 0.1) 10px, rgba(255, 255, 255, 0.1) 11px), repeating-linear-gradient(90deg, transparent, transparent 10px, rgba(255, 255, 255, 0.1) 10px, rgba(255, 255, 255, 0.1) 11px);
            z-index: 1;
            opacity: 0.2;
            animation: grid-move 10s linear infinite;
        }

        @keyframes grid-move {
            from { transform: translate(0, 0); }
            to { transform: translate(-100px, -100px); }
        }

        /* Floating orb animation */
        .orb {
            position: absolute;
            width: 200px;
            height: 200px;
            background: radial-gradient(circle at center, rgba(34, 197, 94, 0.7), rgba(0, 0, 0, 0));
            border-radius: 50%;
            animation: float 10s ease-in-out infinite;
            mix-blend-mode: color-dodge;
            filter: blur(30px);
            z-index: 2;
        }

        @keyframes float {
            0% { transform: translate(0, 0); }
            50% { transform: translate(50px, 50px); }
            100% { transform: translate(0, 0); }
        }

        .orb:nth-child(1) { top: 20%; left: 10%; animation-delay: 0s; }
        .orb:nth-child(2) { top: 70%; left: 60%; animation-delay: 2s; }
        .orb:nth-child(3) { top: 50%; left: 80%; animation-delay: 4s; }
        .orb:nth-child(4) { top: 30%; left: 30%; animation-delay: 6s; }
    </style>
    <!-- Vercel Analytics -->
    <script src="/_vercel/insights/script.js"></script>
</head>
<body>
    <div class="grid"></div>
    <div class="orb"></div>
    <div class="orb"></div>
    <div class="orb"></div>
    <div class="orb"></div>

    <div class="content">
        <h2>Miscellaneous Stuff</h2>

        <!-- About:blank Section -->
        <div class="section">
            <h1>about:blank</h1>
            <p>Enter a URL you want to be opened in an about:blank page below:</p>
            <input id="link-input" type="url" pattern="https://.*" placeholder="Enter a website URL" autocomplete="on" />
            <p>Note this will not work with some websites, but you can copy the link of this website and put it in for extra privacy.</p>
            <select id="page-select">
                <option value="">Select a preset</option>
                <option value="canvas">Canvas</option>
                <option value="aeries">Aeries Student Dashboard</option>
                <option value="gmail">Gmail</option>
            </select>
            <button id="create">Create page</button>
        </div>

        <!-- Tab Cloaker Section -->
        <div class="section">
            <h1>Tab Cloaker</h1>
            <p>Enter a new tab title or an image URL below. What you set will be used on the whole site.</p>
            <input id="userinput" type="text" placeholder="Enter a title or image URL" autocomplete="on" />
            <p id="console-output"></p>
            <div class="button-wrapper">
                <button id="set-title-btn">Set Title</button>
                <button id="set-icon-btn">Set Icon</button>
                <button id="reset-btn">Reset</button>
                <button id="imitate-canvas-btn">Press to Imitate Canvas</button>
            </div>
        </div>

        <!-- Ads Consent Section -->
        <div class="section">
            <h1>Ads Consent</h1>
            <p>Sometimes, ads are shown to support the creator. If you would not like to see ads or if it slows down your computer too much, you can disable them here.</p>
            <label for="adConsent">Do not show ads at all:</label>
            <input type="checkbox" id="adConsent" name="adConsent">
        </div>
        
        <!-- Background Customization Section -->
        <div class="section">
            <h1>Background Customization</h1>
            <p>You can choose a custom image for the background of this page. Upload your preferred image below:</p>
            <label for="bgUploader">Select an image:</label>
            <input type="file" id="bgUploader" accept="image/*">
            <button id="setBgButton">Set Background</button>
        </div>
                
        <!-- Homepage Redirect Section -->
        <div class="section">
            <h1>Homepage Redirect</h1>
            <p>as of now it doesnt work but its to enable redirection to about:blank on homepage load:</p>
            <label for="redirectToggle">Enable Redirect:</label>
            <input type="checkbox" id="redirectToggle">
        </div>

        <p style="text-align: center; margin-top: 2em;">
            <a href="/index.html" style="text-decoration: none;">
                <button style="background-color: #22c55e; border: none; color: white; padding: 15px 32px; text-decoration: none; display: inline-block; font-size: 16px; border-radius: 20px; margin-top: 5px;">
                    Go to the homepage
                </button>
            </a>
        </p>

        <button id="back-to-top">Back to top</button>
    </div>

    <!-- Include the script directly in the HTML -->
    <script type="module">
        document.addEventListener('DOMContentLoaded', function() {
            const redirectToggle = document.getElementById('redirectToggle');

            // Load the current setting from localStorage
            const redirectEnabled = localStorage.getItem('redirectToBlank') === 'true';
            redirectToggle.checked = redirectEnabled;

            // Save the setting when the checkbox is toggled
            redirectToggle.addEventListener('change', function() {
                localStorage.setItem('redirectToBlank', this.checked);
            });

            // Other existing JavaScript code
            document.getElementById('create').addEventListener('click', function() {
                const url = document.getElementById('link-input').value;
                const selection = document.getElementById('page-select').value;
                let title, icon;

                switch (selection) {
                    case 'canvas':
                        title = 'Canvas';
                        icon = 'https://wascouhsd.instructure.com/favicon.ico'; // Canvas favicon URL
                        break;
                    case 'aeries':
                        title = 'Aeries Dashboard';
                        icon = 'https://wascouhsd.aeries.net/student/favicon.ico'; // Aeries favicon URL
                        break;
                    case 'gmail':
                        title = 'Gmail';
                        icon = 'https://ssl.gstatic.com/ui/v1/icons/mail/rfr/gmail.ico'; // Gmail favicon URL
                        break;
                    default:
                        title = 'ã…¤';
                        icon = '/favicon.ico'; // Default favicon URL
                }

                // Check if the URL is valid
                if (!url) {
                    alert('Please enter a valid URL.');
                    return;
                }

                // Open a new about:blank page
                const newWindow = window.open('about:blank', '_blank');
               
                // Check if the new window was successfully opened
                if (newWindow) {
                    // Write to the new about:blank page
                    newWindow.document.write(`
                        <!DOCTYPE html>
                        <html lang="en-US">
                        <head>
                            <meta charset="UTF-8">
                            <meta name="viewport" content="width=device-width, initial-scale=1.0">
                            <title>${title}</title>
                            <link rel="icon" href="${icon}" type="image/x-icon">
                            <style>
                                html, body {
                                    margin: 0;
                                    padding: 0;
                                    overflow: hidden;
                                    width: 100%;
                                    height: 100%;
                                }
                                iframe {
                                    border: none;
                                    width: 100vw;
                                    height: 100vh;
                                    display: block;
                                }
                            </style>
                        </head>
                        <body>
                            <iframe src="${url}" frameborder="0"></iframe>
                        </body>
                        </html>
                    `);
                    newWindow.document.close();  // Close the document to ensure it loads properly
                } else {
                    alert('Pop-up blocked! Please allow pop-ups for this site.');
                }
            });
        });
    </script> 
    <script>
        const bgUploader = document.getElementById('bgUploader');
        const setBgButton = document.getElementById('setBgButton');
      
        setBgButton.addEventListener('click', function () {
          const file = bgUploader.files[0];
      
          if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
              document.body.style.backgroundImage = `url(${e.target.result})`;
              document.body.style.backgroundSize = 'cover';              // Ensure it covers the screen
              document.body.style.backgroundPosition = 'center 40%';     // Adjust vertical position
              document.body.style.backgroundRepeat = 'no-repeat';         // Prevent repetition
              document.body.style.backgroundAttachment = 'fixed';         // Keeps background fixed during scroll
              document.body.style.backgroundColor = '#000';              // Black background
              document.body.style.padding = '10%';                        // Add padding
              document.body.style.boxSizing = 'border-box';              // Ensure padding doesn't affect width
            };
            reader.readAsDataURL(file);
          } else {
            alert('Please select an image file!');
          }
        });
      </script>
          
                        
  
    <script type="module" src="/js/misc.js" defer></script>
    <script type="module" src="/js/main.js" defer></script>
</body>
</html>